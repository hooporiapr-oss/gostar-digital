<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Laughleticoâ„¢ - Exercise Your Memory. Exercise Your Smile.</title>
<meta name="description" content="Laughletico - The ONLY laughter-powered memory fitness! 4 laughter sessions. 7-day free trial. $5/month.">
<meta name="keywords" content="laughletico, laughter fitness, memory exercises, senior fitness, memory fitness, laughter therapy, memory training, joy sessions">
<meta name="author" content="GoStar Digital LLC">
<meta name="robots" content="index, follow">
<meta property="og:type" content="website">
<meta property="og:url" content="https://laughletico.com/">
<meta property="og:title" content="Laughleticoâ„¢ - Exercise Your Memory. Exercise Your Smile.">
<meta property="og:description" content="The ONLY laughter-powered memory fitness! 4 laughter sessions. 7-day free trial.">
<meta property="og:image" content="https://laughletico.com/go_chat.png">
<meta property="og:site_name" content="Laughletico">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Laughleticoâ„¢ - Exercise Your Memory. Exercise Your Smile.">
<meta name="twitter:description" content="The ONLY laughter-powered memory fitness! 4 laughter sessions.">
<meta name="twitter:image" content="https://laughletico.com/go_chat.png">
<link rel="canonical" href="https://laughletico.com/">
<link rel="icon" type="image/png" href="favicon.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Outfit:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
:root{--purple:#6B21A8;--purple-dark:#581C87;--purple-light:#9333EA;--teal:#00D9A5;--gold:#FFD700;--blue:#3B82F6;--dark:#0a0a0f;--darker:#050508;--card:#111118;--text:#FFFFFF;--muted:#8892a0;--success:#00D9A5;--danger:#FF4757}
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%;overflow:hidden}
body{font-family:'Outfit',sans-serif;background:var(--dark);color:var(--text)}
body.es .lang-en{display:none !important}
body.en .lang-es{display:none !important}
.landing{position:fixed;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;text-align:center;padding:20px;padding-top:env(safe-area-inset-top,20px);background:radial-gradient(ellipse at center top,rgba(107,33,168,0.2) 0%,transparent 50%),radial-gradient(ellipse at 80% 80%,rgba(255,215,0,0.1) 0%,transparent 40%),var(--dark);z-index:1;transition:opacity 0.4s,transform 0.4s;overflow-y:auto}
.landing.hidden{opacity:0;transform:scale(0.95);pointer-events:none}
.lang-toggle{display:flex;gap:8px;margin-top:15px;margin-bottom:25px;flex-shrink:0}
.lang-btn{padding:10px 18px;border:2px solid var(--gold);background:transparent;color:var(--gold);border-radius:25px;font-family:'Outfit',sans-serif;font-weight:700;font-size:0.85rem;cursor:pointer;transition:all 0.3s}
.lang-btn.active{background:var(--gold);color:var(--dark)}
.logo-section{margin-bottom:20px;flex-shrink:0}
.logo{font-family:'Bebas Neue',sans-serif;font-size:clamp(2.2rem,8vw,3.5rem);letter-spacing:2px;line-height:1}
.logo .laugh{color:var(--gold)}
.logo .letico{color:var(--text)}
.tagline{font-family:'Bebas Neue',sans-serif;font-size:clamp(0.8rem,2.2vw,1.1rem);letter-spacing:3px;color:var(--purple-light);margin-top:5px}
.hero-icon{width:90px;height:90px;margin-bottom:15px;animation:bounce 2s infinite;border-radius:50%;object-fit:cover;cursor:pointer;transition:transform 0.3s;flex-shrink:0}
.hero-icon:hover{transform:scale(1.1)}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
.hero-text{max-width:320px;margin-bottom:25px;flex-shrink:0}
.hero-text p{font-size:1rem;color:var(--muted);line-height:1.5}
.hero-text strong{color:var(--text)}
.go-btn{padding:18px 45px;font-family:'Bebas Neue',sans-serif;font-size:1.5rem;letter-spacing:4px;background:linear-gradient(135deg,var(--gold) 0%,#FFA500 100%);color:var(--dark);border:none;border-radius:50px;cursor:pointer;box-shadow:0 8px 30px rgba(255,215,0,0.4);transition:all 0.3s;display:flex;align-items:center;gap:10px;flex-shrink:0}
.go-btn:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 12px 40px rgba(255,215,0,0.5)}
.go-btn:active{transform:translateY(0) scale(0.98)}
.go-btn-icon{width:28px;height:28px;border-radius:50%;object-fit:cover}
.footer-text{margin-top:auto;padding:20px 0;font-size:0.7rem;color:var(--muted);flex-shrink:0}
.footer-text a{color:var(--gold);text-decoration:none}
@media(min-height:700px){.landing{justify-content:center;padding-top:20px}.lang-toggle{position:absolute;top:20px;left:50%;transform:translateX(-50%);margin:0}.logo{font-size:clamp(2.8rem,10vw,4rem)}.hero-icon{width:100px;height:100px}.go-btn{padding:22px 60px;font-size:1.8rem}.footer-text{position:absolute;bottom:20px;margin:0;padding:0}}
.chat-screen{position:fixed;top:0;left:0;right:0;bottom:0;background:var(--dark);display:flex;flex-direction:column;z-index:10;opacity:0;transform:translateY(100%);transition:opacity 0.4s,transform 0.4s;pointer-events:none}
.chat-screen.active{opacity:1;transform:translateY(0);pointer-events:auto}
.chat-header{padding:15px 20px;background:linear-gradient(135deg,rgba(107,33,168,0.2),rgba(255,215,0,0.1));border-bottom:2px solid rgba(255,215,0,0.3);display:flex;align-items:center;justify-content:space-between;flex-shrink:0}
.chat-header-left{display:flex;align-items:center;gap:12px}
.chat-avatar{width:45px;height:45px;border-radius:50%;display:flex;align-items:center;justify-content:center;overflow:hidden;background:transparent}
.chat-avatar-img{width:100%;height:100%;object-fit:cover;border-radius:50%}
.chat-title{font-family:'Bebas Neue',sans-serif;font-size:1.2rem;letter-spacing:2px}
.chat-title .go{color:var(--gold)}
.chat-title .tr{color:var(--text)}
.chat-subtitle{font-size:0.65rem;color:var(--gold);letter-spacing:1px}
.chat-status{display:flex;align-items:center;gap:6px;font-size:0.7rem;color:var(--teal)}
.chat-dot{width:8px;height:8px;background:var(--teal);border-radius:50%;animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}
.chat-header-right{display:flex;align-items:center;gap:10px}
.chat-lang-btn{padding:6px 12px;border:2px solid var(--gold);background:transparent;color:var(--gold);border-radius:15px;font-weight:700;font-size:0.7rem;cursor:pointer;transition:all 0.3s}
.chat-lang-btn.active{background:var(--gold);color:var(--dark)}
.chat-close{width:36px;height:36px;background:rgba(255,255,255,0.1);border:none;border-radius:50%;color:var(--muted);font-size:1.2rem;cursor:pointer;display:flex;align-items:center;justify-content:center}
.chat-body{flex:1;overflow-y:auto;padding:20px;display:flex;flex-direction:column;gap:15px}
.chat-msg{display:flex;gap:10px;max-width:90%;animation:msgIn 0.3s ease}
@keyframes msgIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.chat-msg.bot{align-self:flex-start}
.chat-msg.user{align-self:flex-end;flex-direction:row-reverse}
.chat-msg-avatar{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;overflow:hidden}
.chat-msg-avatar-img{width:100%;height:100%;object-fit:cover;border-radius:50%}
.chat-msg.bot .chat-msg-avatar{background:transparent}
.chat-msg.user .chat-msg-avatar{background:var(--blue)}
.chat-msg-bubble{background:var(--card);border:1px solid rgba(255,255,255,0.1);border-radius:18px;padding:14px 18px;font-size:0.95rem;line-height:1.6}
.chat-msg.user .chat-msg-bubble{background:linear-gradient(135deg,var(--blue),#2563EB);border:none}
.chat-msg-bubble strong{color:var(--gold)}
.chat-msg-bubble .highlight{color:var(--teal)}
.chat-msg-bubble .joke{color:var(--gold);font-style:italic;display:block;margin-top:10px;padding:10px;background:rgba(255,215,0,0.1);border-radius:10px;border-left:3px solid var(--gold)}
.chat-options{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px}
.chat-option{padding:12px 20px;background:rgba(255,215,0,0.1);border:2px solid rgba(255,215,0,0.4);color:var(--gold);border-radius:25px;font-weight:700;font-size:0.85rem;cursor:pointer;transition:all 0.2s;display:flex;align-items:center;gap:8px}
.chat-option:hover{background:rgba(255,215,0,0.2);transform:scale(1.02)}
.chat-option:active{transform:scale(0.98)}
.chat-option.primary{background:linear-gradient(135deg,var(--gold),#FFA500);border:none;color:var(--dark)}
.chat-option.secondary{background:rgba(107,33,168,0.2);border:2px solid rgba(107,33,168,0.5);color:var(--purple-light)}
.chat-typing{display:flex;gap:5px;padding:10px 0}
.chat-typing span{width:10px;height:10px;background:var(--muted);border-radius:50%;animation:typing 1.4s infinite}
.chat-typing span:nth-child(2){animation-delay:0.2s}
.chat-typing span:nth-child(3){animation-delay:0.4s}
@keyframes typing{0%,100%{transform:translateY(0);opacity:0.5}50%{transform:translateY(-8px);opacity:1}}
.chat-input-area{padding:15px 20px;border-top:1px solid rgba(255,255,255,0.1);background:var(--darker);flex-shrink:0;display:none}
.chat-input-area.visible{display:block}
.chat-input-row{display:flex;gap:10px;align-items:center;background:var(--card);border:2px solid rgba(255,255,255,0.1);border-radius:50px;padding:6px 6px 6px 20px}
.chat-input-row:focus-within{border-color:var(--gold)}
.chat-input{flex:1;background:none;border:none;color:var(--text);font-size:1rem;outline:none;font-family:'Outfit',sans-serif}
.chat-input::placeholder{color:var(--muted)}
.chat-send{width:44px;height:44px;background:linear-gradient(135deg,var(--gold),var(--purple));border:none;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.chat-send svg{width:20px;height:20px;fill:var(--text)}
.pin-input-container{display:flex;gap:12px;justify-content:center;margin-top:15px}
.pin-digit{width:50px;height:60px;background:var(--card);border:3px solid rgba(255,255,255,0.2);border-radius:12px;font-family:'Bebas Neue',sans-serif;font-size:2rem;color:var(--text);text-align:center;outline:none;transition:all 0.2s}
.pin-digit:focus{border-color:var(--gold);box-shadow:0 0 20px rgba(255,215,0,0.3)}
.pin-digit.filled{border-color:var(--teal);background:rgba(0,217,165,0.1)}
.pin-submit{margin-top:20px;padding:14px 40px;font-family:'Bebas Neue',sans-serif;font-size:1.1rem;letter-spacing:2px;background:linear-gradient(135deg,var(--gold),#FFA500);color:var(--dark);border:none;border-radius:30px;cursor:pointer;opacity:0.5;pointer-events:none;transition:all 0.3s}
.pin-submit.ready{opacity:1;pointer-events:auto}
.pin-submit.ready:hover{transform:scale(1.05)}
.plan-cards{display:flex;flex-direction:column;gap:12px;margin-top:15px;width:100%}
.plan-card{background:var(--card);border:2px solid rgba(255,255,255,0.1);border-radius:16px;padding:16px;cursor:pointer;transition:all 0.2s;display:flex;justify-content:space-between;align-items:center}
.plan-card:hover{border-color:var(--gold);transform:translateX(5px)}
.plan-card.selected{border-color:var(--teal);background:rgba(0,217,165,0.1)}
.plan-card-left{text-align:left}
.plan-name{font-family:'Bebas Neue',sans-serif;font-size:1.1rem;letter-spacing:2px;color:var(--text);display:flex;align-items:center;gap:8px}
.plan-desc{font-size:0.75rem;color:var(--muted);margin-top:4px}
.plan-price{font-family:'Bebas Neue',sans-serif;font-size:1.5rem;color:var(--gold)}
.plan-price span{font-size:0.8rem;color:var(--muted)}
.billing-toggle{display:flex;gap:8px;margin-top:15px;justify-content:center}
.billing-btn{padding:10px 20px;background:var(--card);border:2px solid rgba(255,255,255,0.1);border-radius:20px;color:var(--muted);font-weight:700;font-size:0.8rem;cursor:pointer;transition:all 0.2s}
.billing-btn.active{border-color:var(--teal);background:rgba(0,217,165,0.1);color:var(--teal)}
.billing-btn .save-badge{font-size:0.65rem;background:var(--success);color:var(--dark);padding:2px 6px;border-radius:8px;margin-left:6px}
.subscribe-btn{margin-top:20px;padding:16px 40px;font-family:'Bebas Neue',sans-serif;font-size:1.2rem;letter-spacing:3px;background:linear-gradient(135deg,var(--gold),#FFA500);color:var(--dark);border:none;border-radius:30px;cursor:pointer;box-shadow:0 5px 25px rgba(255,215,0,0.4);transition:all 0.3s;opacity:0.5;pointer-events:none}
.subscribe-btn.ready{opacity:1;pointer-events:auto}
.subscribe-btn.ready:hover{transform:scale(1.05);box-shadow:0 8px 30px rgba(255,215,0,0.5)}
.subscribe-btn.loading{opacity:0.7;pointer-events:none}
.terms-section{margin-top:20px;text-align:left;font-size:0.85rem}
.terms-check{display:flex;align-items:flex-start;gap:10px;margin-bottom:10px;cursor:pointer}
.terms-check input{display:none}
.terms-checkbox{width:22px;height:22px;border:2px solid var(--muted);border-radius:6px;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all 0.2s;background:var(--darker)}
.terms-check input:checked + .terms-checkbox{background:var(--teal);border-color:var(--teal)}
.terms-check input:checked + .terms-checkbox::after{content:'âœ“';color:var(--dark);font-weight:700;font-size:0.9rem}
.terms-label{color:var(--muted);line-height:1.4}
.terms-label a{color:var(--teal);text-decoration:underline}
.trial-badge{display:inline-flex;align-items:center;gap:6px;padding:8px 16px;background:rgba(255,215,0,0.1);border:1px solid rgba(255,215,0,0.3);border-radius:20px;font-size:0.8rem;color:var(--gold);margin-top:10px}
.status-badge{display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border-radius:20px;font-size:0.8rem;margin-top:10px}
.status-badge.active{background:rgba(0,217,165,0.1);border:1px solid rgba(0,217,165,0.3);color:var(--teal)}
.status-badge.trialing{background:rgba(255,215,0,0.1);border:1px solid rgba(255,215,0,0.3);color:var(--gold)}
.pin-display{background:linear-gradient(135deg,rgba(107,33,168,0.2),rgba(255,215,0,0.2));border:3px solid var(--gold);border-radius:20px;padding:25px;margin:15px 0;text-align:center}
.pin-display-label{font-size:0.85rem;color:var(--muted);margin-bottom:10px;letter-spacing:1px}
.pin-display-value{font-family:'Bebas Neue',sans-serif;font-size:3.5rem;letter-spacing:15px;color:var(--gold);text-shadow:0 0 30px rgba(255,215,0,0.5)}
.pin-display-note{font-size:0.75rem;color:var(--teal);margin-top:10px}
.email-input-container{margin-top:15px}
.email-input{width:100%;padding:14px 20px;background:var(--card);border:2px solid rgba(255,255,255,0.2);border-radius:12px;font-family:'Outfit',sans-serif;font-size:1rem;color:var(--text);outline:none;transition:all 0.2s}
.email-input:focus{border-color:var(--gold);box-shadow:0 0 20px rgba(255,215,0,0.2)}
.email-input::placeholder{color:var(--muted)}
.email-submit{margin-top:15px;padding:14px 40px;font-family:'Bebas Neue',sans-serif;font-size:1.1rem;letter-spacing:2px;background:linear-gradient(135deg,var(--gold),#FFA500);color:var(--dark);border:none;border-radius:30px;cursor:pointer;transition:all 0.3s}
.email-submit:hover{transform:scale(1.05)}
.email-submit.loading{opacity:0.7;pointer-events:none}
.success-burst{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:6rem;z-index:100;animation:burst 0.8s ease-out forwards;pointer-events:none}
@keyframes burst{0%{opacity:1;transform:translate(-50%,-50%) scale(0.5)}50%{opacity:1;transform:translate(-50%,-50%) scale(1.2)}100%{opacity:0;transform:translate(-50%,-50%) scale(1.5)}}
.confetti-container{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1000;overflow:hidden}
.confetti{position:absolute;width:10px;height:10px;top:-10px;animation:confetti-fall 4s linear forwards}
@keyframes confetti-fall{0%{transform:translateY(0) rotate(0deg);opacity:1}100%{transform:translateY(100vh) rotate(720deg);opacity:0}}
.confetti:nth-child(odd){background:var(--gold);border-radius:50%}
.confetti:nth-child(even){background:var(--purple);border-radius:2px}
.confetti:nth-child(3n){background:var(--teal)}
.confetti:nth-child(4n){background:var(--success)}
.coach-welcome-box{background:linear-gradient(135deg,rgba(107,33,168,0.2),rgba(255,215,0,0.2));border:3px solid var(--gold);border-radius:20px;padding:20px;margin:15px 0;text-align:center}
.coach-welcome-icon{font-size:3rem;margin-bottom:10px;animation:bounce 2s infinite}
.coach-welcome-title{font-family:'Bebas Neue',sans-serif;font-size:1.5rem;letter-spacing:3px;color:var(--gold);margin-bottom:10px}
.coach-welcome-msg{font-size:0.95rem;color:var(--text);line-height:1.6}
.coach-welcome-msg strong{color:var(--gold)}
.coach-signature{font-size:0.8rem;color:var(--purple-light);margin-top:12px;font-weight:700}
@media(max-width:400px){.go-btn{padding:18px 45px;font-size:1.5rem}.pin-digit{width:45px;height:55px;font-size:1.8rem}.plan-card{padding:12px}.pin-display-value{font-size:2.8rem;letter-spacing:10px}}
.chat-fab{position:fixed;bottom:30px;right:30px;width:70px;height:70px;border-radius:50%;background:linear-gradient(135deg,var(--purple),var(--purple-dark));border:3px solid var(--gold);cursor:pointer;box-shadow:0 6px 30px rgba(107,33,168,0.5);z-index:100;display:flex;align-items:center;justify-content:center;transition:all 0.3s;animation:fabPulse 2s infinite}
.chat-fab:hover{transform:scale(1.1);box-shadow:0 8px 40px rgba(107,33,168,0.6)}
.chat-fab img{width:45px;height:45px;border-radius:50%}
.chat-fab-label{position:absolute;right:85px;background:var(--card);padding:10px 16px;border-radius:20px;font-size:0.85rem;font-weight:600;white-space:nowrap;box-shadow:0 4px 15px rgba(0,0,0,0.3);opacity:0;transform:translateX(10px);transition:all 0.3s}
.chat-fab:hover .chat-fab-label{opacity:1;transform:translateX(0)}
@keyframes fabPulse{0%,100%{box-shadow:0 6px 30px rgba(107,33,168,0.5)}50%{box-shadow:0 6px 40px rgba(255,215,0,0.4)}}
.chat-screen.active ~ .chat-fab,.chat-fab.hidden{display:none}
.hero-cta{margin-top:12px;font-size:0.85rem;color:var(--muted)}
.hero-cta a{color:var(--gold);text-decoration:none;font-weight:600;cursor:pointer}
.hero-cta a:hover{text-decoration:underline}
.session-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:15px;width:100%}
.session-card{background:var(--card);border:2px solid rgba(107,33,168,0.3);border-radius:12px;padding:15px 10px;text-align:center;transition:all 0.2s}
.session-card:hover{border-color:var(--gold);transform:translateY(-3px)}
.session-emoji{font-size:2rem;margin-bottom:8px}
.session-name{font-family:'Bebas Neue',sans-serif;font-size:1rem;letter-spacing:2px;color:var(--gold)}
.session-desc{font-size:0.7rem;color:var(--muted);margin-top:4px}
</style>
</head>
<body class="en">
<div class="confetti-container" id="confettiContainer"></div>
<div class="landing" id="landing">
<div class="lang-toggle">
<button class="lang-btn active" data-lang="en">EN</button>
<button class="lang-btn" data-lang="es">ES</button>
</div>
<div class="logo-section">
<div class="logo"><span class="laugh">LAUGH</span><span class="letico">LETICO</span><sup style="font-size:0.3em;vertical-align:super;">â„¢</sup></div>
<div class="tagline">EXERCISE YOUR MEMORY. EXERCISE YOUR SMILE.</div>
</div>
<img src="go_chat.png" alt="Coach GoTrotter AI" class="hero-icon" id="heroIcon">
<div class="hero-text">
<p><span class="lang-en"><strong>4 Laughter Sessions. 10 Tiers.</strong> The ONLY laughter-powered memory fitness! $5/month.</span><span class="lang-es"><strong>4 Sesiones de Risa. 10 Niveles.</strong> Â¡El ÃšNICO fitness mental impulsado por risa! $5/mes.</span></p>
<p class="hero-cta"><span class="lang-en">Questions? <a id="chatCta">Talk to Coach GoTrotter AI ğŸ˜‚ â†’</a></span><span class="lang-es">Â¿Preguntas? <a id="chatCtaEs">Habla con Coach GoTrotter AI ğŸ˜‚ â†’</a></span></p>
</div>
<button class="go-btn" id="goBtn">
<img src="go_chat.png" alt="" class="go-btn-icon">
<span class="lang-en">START LAUGHING!</span><span class="lang-es">Â¡A REÃR!</span>
</button>
<div class="footer-text">
<span class="lang-en">Powered by</span><span class="lang-es">Impulsado por</span> <a href="https://gostar.digital">GoStar Digital</a> ğŸŒ´
</div>
</div>
<button class="chat-fab" id="chatFab">
<span class="chat-fab-label"><span class="lang-en">Chat with Coach ğŸ˜‚</span><span class="lang-es">Habla con el Coach ğŸ˜‚</span></span>
<img src="go_chat.png" alt="Coach GoTrotter AI">
</button>
<div class="chat-screen" id="chatScreen">
<div class="chat-header">
<div class="chat-header-left">
<div class="chat-avatar"><img src="go_chat.png" alt="Coach GoTrotter AI" class="chat-avatar-img"></div>
<div>
<div class="chat-title"><span class="go">GO</span><span class="tr">TROTTER</span>â„¢ AI</div>
<div class="chat-subtitle">Laughter Coach ğŸ˜‚</div>
<div class="chat-status"><span class="chat-dot"></span><span class="lang-en">Ready to make you laugh</span><span class="lang-es">Listo para hacerte reÃ­r</span></div>
</div>
</div>
<div class="chat-header-right">
<button class="chat-lang-btn active" data-lang="en">EN</button>
<button class="chat-lang-btn" data-lang="es">ES</button>
<button class="chat-close" id="chatClose">Ã—</button>
</div>
</div>
<div class="chat-body" id="chatBody"></div>
<div class="chat-input-area" id="chatInputArea">
<div class="chat-input-row">
<input type="text" class="chat-input" id="chatInput" maxlength="100">
<button class="chat-send" id="chatSend">
<svg viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
</button>
</div>
</div>
</div>
<script>
(function(){
var lang=localStorage.getItem('lw-lang')||'en';
function setLang(l){lang=l;localStorage.setItem('lw-lang',l);document.body.className=l;document.querySelectorAll('.lang-btn,.chat-lang-btn').forEach(function(b){b.classList.toggle('active',b.dataset.lang===l);});}
setLang(lang);
document.querySelectorAll('.lang-btn,.chat-lang-btn').forEach(function(b){b.addEventListener('click',function(e){e.preventDefault();e.stopPropagation();setLang(this.dataset.lang);});});
var landing=document.getElementById('landing'),chatScreen=document.getElementById('chatScreen'),chatBody=document.getElementById('chatBody'),chatInputArea=document.getElementById('chatInputArea'),chatInput=document.getElementById('chatInput'),chatSend=document.getElementById('chatSend'),goBtn=document.getElementById('goBtn'),chatClose=document.getElementById('chatClose');
var currentFlow=null,currentStep=null,selectedPlan='individual',selectedBilling='monthly';
var jokes={greetings:[{en:"Why did the brain go to the gym? To work on its THINK-ing muscles! ğŸ’ªğŸ§ ",es:"Â¿Por quÃ© el cerebro fue al gimnasio? Â¡Para trabajar sus mÃºsculos de PENSAR! ğŸ’ªğŸ§ "},{en:"I told my memory a joke... it forgot to laugh! ğŸ˜‚",es:"Â¡Le contÃ© un chiste a mi memoria... se le olvidÃ³ reÃ­r! ğŸ˜‚"},{en:"What do you call a brain that tells jokes? A PUNDER-ful organ! ğŸ­",es:"Â¿CÃ³mo llamas a un cerebro que cuenta chistes? Â¡Un Ã³rgano CHIST-oso! ğŸ­"},{en:"My neurons are having a party... want to join? ğŸ‰ğŸ§ ",es:"Mis neuronas estÃ¡n de fiesta... Â¿quieres unirte? ğŸ‰ğŸ§ "},{en:"I'm not just a coach... I'm a LAUGH-lete trainer! ğŸ†ğŸ˜‚",es:"No soy solo un coach... Â¡soy un entrenador de RISA-letas! ğŸ†ğŸ˜‚"},{en:"Warning: My jokes may cause uncontrollable smiling! ğŸ˜„âš ï¸",es:"Advertencia: Â¡Mis chistes pueden causar sonrisas incontrolables! ğŸ˜„âš ï¸"}],encouragement:[{en:"Your brain cells are doing a happy dance right now! ğŸ’ƒğŸ§ ",es:"Â¡Tus cÃ©lulas cerebrales estÃ¡n bailando de alegrÃ­a ahora mismo! ğŸ’ƒğŸ§ "},{en:"Warning: Side effects may include EXTREME happiness! âš ï¸ğŸ˜Š",es:"Advertencia: Â¡Los efectos secundarios pueden incluir EXTREMA felicidad! âš ï¸ğŸ˜Š"},{en:"Your neurons called. They want MORE sessions! ğŸ“ğŸ§ ",es:"Tus neuronas llamaron. Â¡Quieren MÃS sesiones! ğŸ“ğŸ§ "},{en:"Plot twist: Getting smarter is actually FUN! ğŸ¬ğŸ˜„",es:"Giro inesperado: Â¡Volverse mÃ¡s inteligente es DIVERTIDO! ğŸ¬ğŸ˜„"},{en:"Your brain just sent me a thank-you note! ğŸ’ŒğŸ§ ",es:"Â¡Tu cerebro me acaba de enviar una nota de agradecimiento! ğŸ’ŒğŸ§ "}],pricing:[{en:"For less than a fancy coffee, your brain gets a spa day! â˜•ğŸ§ ",es:"Â¡Por menos que un cafÃ© elegante, tu cerebro tiene un dÃ­a de spa! â˜•ğŸ§ "},{en:"5 bucks? That's like paying 1.25 cents per brain cell party! ğŸ‰",es:"Â¿5 dÃ³lares? Â¡Es como pagar 1.25 centavos por fiesta de cÃ©lulas cerebrales! ğŸ‰"},{en:"Skip ONE avocado toast = MONTHS of brain gains! ğŸ¥‘â¡ï¸ğŸ§ ",es:"Â¡Salta UNA tostada de aguacate = MESES de ganancias cerebrales! ğŸ¥‘â¡ï¸ğŸ§ "},{en:"Cheaper than therapy, funnier than a clown! ğŸ¤¡ğŸ’°",es:"Â¡MÃ¡s barato que terapia, mÃ¡s gracioso que un payaso! ğŸ¤¡ğŸ’°"}],success:[{en:"BOOM! ğŸ’¥ You just made the smartest decision today!",es:"Â¡BOOM! ğŸ’¥ Â¡Acabas de tomar la decisiÃ³n mÃ¡s inteligente de hoy!"},{en:"Your future self is already thanking you! ğŸ™ğŸ˜Š",es:"Â¡Tu yo del futuro ya te estÃ¡ agradeciendo! ğŸ™ğŸ˜Š"},{en:"Achievement unlocked: BRAIN CHAMPION! ğŸ†ğŸ§ ",es:"Â¡Logro desbloqueado: CAMPEÃ“N CEREBRAL! ğŸ†ğŸ§ "},{en:"Welcome to the club! We have cookies... and better memory to remember where we put them! ğŸªğŸ§ ",es:"Â¡Bienvenido al club! Tenemos galletas... Â¡y mejor memoria para recordar dÃ³nde las pusimos! ğŸªğŸ§ "}],returning:[{en:"Welcome back, Brain Champion! ğŸ† Ready for more laughs?",es:"Â¡Bienvenido de vuelta, CampeÃ³n Cerebral! ğŸ† Â¿Listo para mÃ¡s risas?"},{en:"Look who's back! Your neurons missed you! ğŸ§ â¤ï¸",es:"Â¡Mira quiÃ©n volviÃ³! Â¡Tus neuronas te extraÃ±aban! ğŸ§ â¤ï¸"},{en:"The legend returns! Let's make your brain smile! ğŸ˜„",es:"Â¡La leyenda regresa! Â¡Hagamos sonreÃ­r a tu cerebro! ğŸ˜„"},{en:"Your brain cells just threw a welcome back party! ğŸ‰ğŸ§ ",es:"Â¡Tus cÃ©lulas cerebrales acaban de hacer una fiesta de bienvenida! ğŸ‰ğŸ§ "}],sessions:[{en:"These sessions are like CrossFit for your brain... but funnier! ğŸ‹ï¸ğŸ˜‚",es:"Â¡Estas sesiones son como CrossFit para tu cerebro... pero mÃ¡s graciosas! ğŸ‹ï¸ğŸ˜‚"},{en:"4 sessions, infinite laughs, zero muscle soreness! ğŸ’ªğŸ˜„",es:"Â¡4 sesiones, risas infinitas, cero dolor muscular! ğŸ’ªğŸ˜„"},{en:"Your brain is about to get JACKED... with joy! ğŸ’ªğŸ§ ğŸ˜‚",es:"Â¡Tu cerebro estÃ¡ a punto de ponerse FUERTE... de alegrÃ­a! ğŸ’ªğŸ§ ğŸ˜‚"}]};
function getRandomJoke(cat){var arr=jokes[cat]||jokes.greetings;var j=arr[Math.floor(Math.random()*arr.length)];return lang==='es'?j.es:j.en;}
function getUser(){try{return JSON.parse(localStorage.getItem('lw-user'))||null;}catch(e){return null;}}
function saveUser(d){localStorage.setItem('lw-user',JSON.stringify(d));}
function setSession(n,p){sessionStorage.setItem('lw-user-pin',p);sessionStorage.setItem('lw-user-name',n);}
function bi(en,es){return'<span class="lang-en">'+en+'</span><span class="lang-es">'+es+'</span>';}
function addMsg(c,isUser,opts){var msg=document.createElement('div');msg.className='chat-msg '+(isUser?'user':'bot');var av=isUser?'ğŸ‘¤':'<img src="go_chat.png" class="chat-msg-avatar-img">';var h='<div class="chat-msg-avatar">'+av+'</div><div class="chat-msg-bubble">'+c;if(opts&&opts.length){h+='<div class="chat-options">';opts.forEach(function(o){var cls='chat-option';if(o.primary)cls+=' primary';if(o.secondary)cls+=' secondary';var lbl=o.labelEn?bi(o.labelEn,o.labelEs):o.label;h+='<button class="'+cls+'" data-action="'+o.action+'">'+lbl+'</button>';});h+='</div>';}h+='</div>';msg.innerHTML=h;chatBody.appendChild(msg);chatBody.scrollTop=chatBody.scrollHeight;msg.querySelectorAll('.chat-option').forEach(function(b){b.addEventListener('click',function(){handleOption(this.dataset.action);});});}
function addTyping(){var m=document.createElement('div');m.className='chat-msg bot';m.id='typingMsg';m.innerHTML='<div class="chat-msg-avatar"><img src="go_chat.png" class="chat-msg-avatar-img"></div><div class="chat-msg-bubble"><div class="chat-typing"><span></span><span></span><span></span></div></div>';chatBody.appendChild(m);chatBody.scrollTop=chatBody.scrollHeight;}
function removeTyping(){var t=document.getElementById('typingMsg');if(t)t.remove();}
function botSay(c,opts,d){d=d||800;addTyping();setTimeout(function(){removeTyping();addMsg(c,false,opts);},d);}
function botSayWithJoke(c,cat,opts,d){var j=getRandomJoke(cat);var fc=c+'<div class="joke">ğŸ˜‚ '+j+'</div>';botSay(fc,opts,d);}
function hideInput(){chatInputArea.classList.remove('visible');}
function createConfetti(){var ct=document.getElementById('confettiContainer');for(var i=0;i<100;i++){setTimeout(function(){var c=document.createElement('div');c.className='confetti';c.style.left=Math.random()*100+'vw';c.style.animationDuration=(Math.random()*2+3)+'s';c.style.animationDelay=Math.random()*0.5+'s';c.style.width=(Math.random()*8+6)+'px';c.style.height=(Math.random()*8+6)+'px';ct.appendChild(c);setTimeout(function(){if(c.parentNode)c.parentNode.removeChild(c);},5000);},i*30);}}
function addPinInput(){var m=document.createElement('div');m.className='chat-msg bot';m.innerHTML='<div class="chat-msg-avatar"><img src="go_chat.png" class="chat-msg-avatar-img"></div><div class="chat-msg-bubble"><div class="pin-input-container"><input type="tel" class="pin-digit" maxlength="1" data-idx="0"><input type="tel" class="pin-digit" maxlength="1" data-idx="1"><input type="tel" class="pin-digit" maxlength="1" data-idx="2"><input type="tel" class="pin-digit" maxlength="1" data-idx="3"></div><button class="pin-submit" id="pinSubmit">'+bi("LET'S LAUGH!","Â¡A REÃR!")+'</button><div style="margin-top:15px;"><a href="#" class="forgot-pin-link" style="color:var(--muted);font-size:0.8rem;text-decoration:underline;">'+bi('Forgot PIN?','Â¿Olvidaste tu PIN?')+'</a></div></div>';chatBody.appendChild(m);chatBody.scrollTop=chatBody.scrollHeight;var digs=m.querySelectorAll('.pin-digit'),sub=m.querySelector('#pinSubmit'),forg=m.querySelector('.forgot-pin-link');function chk(){var p='';digs.forEach(function(d){p+=d.value;});sub.classList.toggle('ready',p.length===4);}digs.forEach(function(d,i){d.addEventListener('input',function(){this.value=this.value.replace(/[^0-9]/g,'');if(this.value&&i<3)digs[i+1].focus();this.classList.toggle('filled',this.value!=='');chk();});d.addEventListener('keydown',function(e){if(e.key==='Backspace'&&!this.value&&i>0)digs[i-1].focus();});});sub.addEventListener('click',function(){if(!this.classList.contains('ready'))return;var p='';digs.forEach(function(d){p+=d.value;});handlePinSubmit(p);});forg.addEventListener('click',function(e){e.preventDefault();addForgotPinInput();});setTimeout(function(){digs[0].focus();},100);}
function addForgotPinInput(){var jk=getRandomJoke('encouragement');var m=document.createElement('div');m.className='chat-msg bot';m.innerHTML='<div class="chat-msg-avatar"><img src="go_chat.png" class="chat-msg-avatar-img"></div><div class="chat-msg-bubble">'+bi('ğŸ”‘ <strong>No problem!</strong> Even the best brains forget sometimes!<br><br>Enter your email to recover your PIN:','ğŸ”‘ <strong>Â¡No hay problema!</strong> Â¡Hasta los mejores cerebros olvidan a veces!<br><br>Ingresa tu email para recuperar tu PIN:')+'<div class="joke">ğŸ˜‚ '+jk+'</div><div class="email-input-container"><input type="email" class="email-input" id="forgotEmailInput" placeholder="'+(lang==='es'?'tu@email.com':'your@email.com')+'"><button class="email-submit" id="forgotEmailSubmit">'+bi('RECOVER PIN','RECUPERAR PIN')+'</button></div></div>';chatBody.appendChild(m);chatBody.scrollTop=chatBody.scrollHeight;var ei=m.querySelector('#forgotEmailInput'),es=m.querySelector('#forgotEmailSubmit');ei.addEventListener('keydown',function(e){if(e.key==='Enter')handleForgotPinLookup(this.value);});es.addEventListener('click',function(){handleForgotPinLookup(ei.value);});setTimeout(function(){ei.focus();},100);}
function handleForgotPinLookup(em){em=em.trim().toLowerCase();if(!em||!em.includes('@')){alert(lang==='es'?'Por favor ingresa un email vÃ¡lido':'Please enter a valid email');return;}var sb=document.getElementById('forgotEmailSubmit');if(sb){sb.classList.add('loading');sb.innerHTML=bi('SEARCHING...','BUSCANDO...');}fetch('/api/stripe/status/'+encodeURIComponent(em)).then(function(r){return r.json();}).then(function(d){if(d.subscribed&&d.pin){showPinDisplay(d.pin,em,d.plan_type,d.status);}else{botSayWithJoke(bi('âŒ No subscription found for that email.<br><br>Make sure you entered the correct email!','âŒ No se encontrÃ³ suscripciÃ³n para ese email.<br><br>Â¡AsegÃºrate de ingresar el email correcto!'),'encouragement',[{labelEn:'ğŸ”„ Try Again',labelEs:'ğŸ”„ Intentar de Nuevo',action:'forgot_pin'},{labelEn:'ğŸ†• Subscribe',labelEs:'ğŸ†• Suscribirme',action:'new'}],600);}}).catch(function(e){console.error(e);botSay(bi('âŒ Connection error. Please try again.','âŒ Error de conexiÃ³n. Por favor intenta de nuevo.'),[{labelEn:'ğŸ”„ Try Again',labelEs:'ğŸ”„ Intentar de Nuevo',action:'forgot_pin'}],600);});}
function addEmailInput(){var jk=getRandomJoke('encouragement');var m=document.createElement('div');m.className='chat-msg bot';m.innerHTML='<div class="chat-msg-avatar"><img src="go_chat.png" class="chat-msg-avatar-img"></div><div class="chat-msg-bubble">'+bi('Enter the email you used at checkout to get your PIN:','Ingresa el email que usaste en el pago para obtener tu PIN:')+'<div class="joke">ğŸ˜‚ '+jk+'</div><div class="email-input-container"><input type="email" class="email-input" id="emailInput" placeholder="'+(lang==='es'?'tu@email.com':'your@email.com')+'"><button class="email-submit" id="emailSubmit">'+bi('GET MY PIN','OBTENER MI PIN')+'</button></div></div>';chatBody.appendChild(m);chatBody.scrollTop=chatBody.scrollHeight;var ei=m.querySelector('#emailInput'),es=m.querySelector('#emailSubmit');ei.addEventListener('keydown',function(e){if(e.key==='Enter')handleEmailLookup(this.value);});es.addEventListener('click',function(){handleEmailLookup(ei.value);});setTimeout(function(){ei.focus();},100);}
function handleEmailLookup(em){em=em.trim().toLowerCase();if(!em||!em.includes('@')){alert(lang==='es'?'Por favor ingresa un email vÃ¡lido':'Please enter a valid email');return;}var sb=document.getElementById('emailSubmit');if(sb){sb.classList.add('loading');sb.innerHTML=bi('LOADING...','CARGANDO...');}fetch('/api/stripe/status/'+encodeURIComponent(em)).then(function(r){return r.json();}).then(function(d){if(d.subscribed&&d.pin){showPinDisplay(d.pin,em,d.plan,d.status);}else{botSayWithJoke(bi('âŒ No subscription found for that email.','âŒ No se encontrÃ³ suscripciÃ³n para ese email.'),'encouragement',[{labelEn:'ğŸ”„ Try Again',labelEs:'ğŸ”„ Intentar de Nuevo',action:'retry_email'},{labelEn:'ğŸ†• Subscribe',labelEs:'ğŸ†• Suscribirme',action:'new'}],600);}}).catch(function(e){console.error(e);botSay(bi('âŒ Connection error.','âŒ Error de conexiÃ³n.'),[{labelEn:'ğŸ”„ Try Again',labelEs:'ğŸ”„ Intentar de Nuevo',action:'retry_email'}],600);});}
function showPinDisplay(pin,em,pl,st){var ud={email:em,pin:pin,plan:pl,type:'subscriber'};saveUser(ud);setSession(em,pin);showSuccess('ğŸ‰');createConfetti();var jk=getRandomJoke('success');var stTxt=st==='trialing'?bi('ğŸ†“ FREE TRIAL ACTIVE','ğŸ†“ PRUEBA GRATIS ACTIVA'):bi('âœ… SUBSCRIPTION ACTIVE','âœ… SUSCRIPCIÃ“N ACTIVA');var m=document.createElement('div');m.className='chat-msg bot';m.innerHTML='<div class="chat-msg-avatar"><img src="go_chat.png" class="chat-msg-avatar-img"></div><div class="chat-msg-bubble"><div class="pin-display"><div class="pin-display-label">'+bi('YOUR LAUGH PIN','TU PIN DE RISA')+'</div><div class="pin-display-value">'+pin+'</div><div class="pin-display-note">ğŸ“ '+bi('Save this PIN!','Â¡Guarda este PIN!')+'</div></div><div class="joke">ğŸ˜‚ '+jk+'</div><div class="status-badge '+st+'">'+stTxt+'</div><div class="chat-options"><button class="chat-option primary" data-action="start_training">'+bi("ğŸ˜‚ LET'S LAUGH!","ğŸ˜‚ Â¡A REÃR!")+'</button></div></div>';chatBody.appendChild(m);chatBody.scrollTop=chatBody.scrollHeight;m.querySelectorAll('.chat-option').forEach(function(b){b.addEventListener('click',function(){handleOption(this.dataset.action);});});}
function showCoachWelcome(){var jk=getRandomJoke('success');var m=document.createElement('div');m.className='chat-msg bot';m.innerHTML='<div class="chat-msg-avatar"><img src="go_chat.png" class="chat-msg-avatar-img"></div><div class="chat-msg-bubble"><div class="coach-welcome-box"><div class="coach-welcome-icon">ğŸ˜‚</div><div class="coach-welcome-title">'+bi('WELCOME TO THE LAUGH SQUAD!','Â¡BIENVENIDO AL ESCUADRÃ“N DE RISA!')+'</div><div class="coach-welcome-msg">'+bi('"<strong>You did it!</strong> I\'m Coach GoTrotter AI, and I\'ll be <strong>making you laugh AND think</strong> every session. Together, we\'ll keep your mind sharp and your smile wide!"','"<strong>Â¡Lo lograste!</strong> Soy Coach GoTrotter AI, y estarÃ© <strong>haciÃ©ndote reÃ­r Y pensar</strong> en cada sesiÃ³n. Â¡Juntos mantendremos tu mente aguda y tu sonrisa amplia!"')+'</div><div class="joke">ğŸ˜‚ '+jk+'</div><div class="coach-signature">â€” Coach GoTrotter AI ğŸ€ğŸ˜‚</div></div></div>';chatBody.appendChild(m);chatBody.scrollTop=chatBody.scrollHeight;}
function addSessionCards(){var jk=getRandomJoke('sessions');var m=document.createElement('div');m.className='chat-msg bot';m.innerHTML='<div class="chat-msg-avatar"><img src="go_chat.png" class="chat-msg-avatar-img"></div><div class="chat-msg-bubble">'+bi('ğŸ¯ <strong>YOUR 4 LAUGHTER SESSIONS</strong><br><br>Each one exercises different parts of your brain... while making you giggle! ğŸ§ ğŸ˜‚','ğŸ¯ <strong>TUS 4 SESIONES DE RISA</strong><br><br>Â¡Cada una ejercita diferentes partes de tu cerebro... mientras te hace reÃ­r! ğŸ§ ğŸ˜‚')+'<div class="session-grid"><div class="session-card"><div class="session-emoji">ğŸ­</div><div class="session-name">LAUGH 1</div><div class="session-desc">'+bi('Silly Scenes','Escenas Tontas')+'</div></div><div class="session-card"><div class="session-emoji">ğŸ”Š</div><div class="session-name">LAUGH 2</div><div class="session-desc">'+bi('Goofy Sounds','Sonidos Locos')+'</div></div><div class="session-card"><div class="session-emoji">ğŸš¶</div><div class="session-name">LAUGH 3</div><div class="session-desc">'+bi('Wacky Walks','Caminatas Locas')+'</div></div><div class="session-card"><div class="session-emoji">ğŸª</div><div class="session-name">LAUGH 4</div><div class="session-desc">'+bi('Absurd Pairs','Parejas Absurdas')+'</div></div></div><div class="joke">ğŸ˜‚ '+jk+'</div><div class="chat-options"><button class="chat-option primary" data-action="show_price">'+bi('ğŸ’° SEE PRICING','ğŸ’° VER PRECIOS')+'</button><button class="chat-option secondary" data-action="returning">'+bi('ğŸ”‘ I Have PIN','ğŸ”‘ Tengo PIN')+'</button></div></div>';chatBody.appendChild(m);chatBody.scrollTop=chatBody.scrollHeight;m.querySelectorAll('.chat-option').forEach(function(b){b.addEventListener('click',function(){handleOption(this.dataset.action);});});}
function addPlanSelector(){var jk=getRandomJoke('pricing');var m=document.createElement('div');m.className='chat-msg bot';m.innerHTML='<div class="chat-msg-avatar"><img src="go_chat.png" class="chat-msg-avatar-img"></div><div class="chat-msg-bubble"><div class="joke">ğŸ˜‚ '+jk+'</div><div class="billing-toggle"><button class="billing-btn active" data-billing="monthly">'+bi('Monthly','Mensual')+'</button><button class="billing-btn" data-billing="annual">'+bi('Annual','Anual')+'<span class="save-badge">'+bi('SAVE $10','AHORRA $10')+'</span></button></div><div class="plan-cards"><div class="plan-card selected" data-plan="individual"><div class="plan-card-left"><div class="plan-name">ğŸ˜‚ '+bi('LAUGHLETICO','LAUGHLETICO')+'</div><div class="plan-desc">'+bi('4 sessions â€¢ 10 tiers â€¢ Full joy access','4 sesiones â€¢ 10 niveles â€¢ Acceso completo')+'</div></div><div class="plan-price" id="priceIndividual">$5<span>/mo</span></div></div></div><div class="trial-badge">ğŸ†“ '+bi('7-DAY FREE TRIAL','7 DÃAS GRATIS')+'</div><div class="terms-section"><label class="terms-check"><input type="checkbox" id="termsCheck"><span class="terms-checkbox"></span><span class="terms-label">'+bi('I agree to <a href="/terms.html" target="_blank">Terms</a> & <a href="/privacy.html" target="_blank">Privacy</a>','Acepto <a href="/terms.html" target="_blank">TÃ©rminos</a> y <a href="/privacy.html" target="_blank">Privacidad</a>')+'</span></label></div><button class="subscribe-btn" id="subscribeBtn">'+bi('START LAUGHING â†’','COMENZAR A REÃR â†’')+'</button></div>';chatBody.appendChild(m);chatBody.scrollTop=chatBody.scrollHeight;var bbs=m.querySelectorAll('.billing-btn'),sb=m.querySelector('#subscribeBtn'),pi=m.querySelector('#priceIndividual'),tc=m.querySelector('#termsCheck');tc.addEventListener('change',function(){sb.classList.toggle('ready',tc.checked);});function updP(){pi.innerHTML=selectedBilling==='monthly'?'$5<span>/mo</span>':'$50<span>/yr</span>';}bbs.forEach(function(b){b.addEventListener('click',function(){bbs.forEach(function(x){x.classList.remove('active');});this.classList.add('active');selectedBilling=this.dataset.billing;updP();});});sb.addEventListener('click',function(){if(!tc.checked){alert(lang==='es'?'Por favor acepta los TÃ©rminos y Privacidad':'Please accept Terms & Privacy');return;}handleSubscribe();});}
function showSuccess(em){var b=document.createElement('div');b.className='success-burst';b.textContent=em||'ğŸ˜‚';document.body.appendChild(b);setTimeout(function(){b.remove();},800);}
function goToGameHub(){showSuccess('ğŸ˜‚');setTimeout(function(){window.location.href='laugh-hub.html';},1000);}
function handleSubscribe(){var sb=document.getElementById('subscribeBtn');if(sb){sb.classList.add('loading');sb.innerHTML=bi('LOADING...','CARGANDO...');}fetch('/api/stripe/checkout',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({plan:selectedPlan,billing:selectedBilling})}).then(function(r){return r.json();}).then(function(d){if(d.url){window.location.href=d.url;}else{alert(lang==='es'?'Error':'Error');if(sb){sb.classList.remove('loading');sb.innerHTML=bi('START LAUGHING','COMENZAR A REÃR');}}}).catch(function(e){console.error(e);alert(lang==='es'?'Error de conexiÃ³n':'Connection error');if(sb){sb.classList.remove('loading');sb.innerHTML=bi('START LAUGHING','COMENZAR A REÃR');}});}
function checkUrlParams(){var p=new URLSearchParams(window.location.search);if(p.get('success')==='true'){var sid=p.get('session_id');window.history.replaceState({},'',window.location.pathname);setTimeout(createConfetti,100);setTimeout(createConfetti,2000);setTimeout(function(){openChat();setTimeout(function(){showCoachWelcome();setTimeout(function(){addMsg(bi('ğŸ‰ <strong>PAYMENT SUCCESSFUL!</strong><br><br>Loading your laugh account...','ğŸ‰ <strong>Â¡PAGO EXITOSO!</strong><br><br>Cargando tu cuenta de risa...'),false);addTyping();if(sid){fetchPinBySession(sid);}else{removeTyping();addEmailInput();}},1500);},500);},300);return true;}if(p.get('canceled')==='true'){window.history.replaceState({},'',window.location.pathname);setTimeout(function(){openChat();setTimeout(function(){botSayWithJoke(bi('No worries! ğŸ˜Š You can start laughing anytime!','Â¡Sin problema! ğŸ˜Š Â¡Puedes comenzar a reÃ­r cuando quieras!'),'encouragement',[{labelEn:'ğŸ˜‚ TELL ME MORE',labelEs:'ğŸ˜‚ CUÃ‰NTAME MÃS',action:'learn_more',primary:true},{labelEn:'ğŸ”‘ I Have PIN',labelEs:'ğŸ”‘ Tengo PIN',action:'returning'}]);},500);},300);return true;}return false;}
function fetchPinBySession(sid){var rc=0,mx=5;function att(){fetch('/api/stripe/session/'+sid).then(function(r){return r.json();}).then(function(d){removeTyping();if(d.success&&d.pin){showPinDisplay(d.pin,d.email,d.plan_type,d.status);}else if(d.email&&!d.success&&rc<mx){rc++;addMsg(bi('â³ Setting up... ('+rc+'/'+mx+')','â³ Configurando... ('+rc+'/'+mx+')'),false);addTyping();setTimeout(att,2000);}else if(d.email){handleEmailLookup(d.email);}else{addEmailInput();}}).catch(function(e){removeTyping();console.error(e);addEmailInput();});}att();}
function openChat(){landing.classList.add('hidden');chatScreen.classList.add('active');document.getElementById('chatFab').classList.add('hidden');chatBody.innerHTML='';hideInput();var u=getUser();if(u&&u.pin&&u.type==='subscriber'){setTimeout(function(){var jk=getRandomJoke('returning');addMsg(bi('Hey! ğŸ˜‚ <strong>Welcome back to Laughletico!</strong>','Â¡Hola! ğŸ˜‚ <strong>Â¡Bienvenido de vuelta a Laughletico!</strong>')+'<div class="joke">ğŸ˜‚ '+jk+'</div>',false);currentFlow='subscriber';currentStep='ask_pin';botSay(bi('Enter your PIN to continue laughing:','Ingresa tu PIN para seguir riendo:'),null,600);setTimeout(addPinInput,1500);},400);}else{setTimeout(function(){var jk=getRandomJoke('greetings');addMsg(bi('Hey! ğŸ˜‚ I\'m <strong>Coach GoTrotterâ„¢ AI</strong> â€” your Laughter Coach!','Â¡Hola! ğŸ˜‚ Soy <strong>Coach GoTrotterâ„¢ AI</strong> â€” Â¡tu Coach de Risa!')+'<div class="joke">ğŸ˜‚ '+jk+'</div>',false);botSay(bi('Ready to exercise your memory AND your smile? ğŸ’ªğŸ˜‚','Â¿Listo para ejercitar tu memoria Y tu sonrisa? ğŸ’ªğŸ˜‚'),[{labelEn:'ğŸ˜‚ TELL ME MORE',labelEs:'ğŸ˜‚ CUÃ‰NTAME MÃS',action:'learn_more',primary:true},{labelEn:'ğŸ”‘ I Have PIN',labelEs:'ğŸ”‘ Tengo PIN',action:'returning'}],600);},400);}}
function handleOption(act){document.querySelectorAll('.chat-option').forEach(function(b){b.style.pointerEvents='none';b.style.opacity='0.5';});switch(act){case'learn_more':currentFlow='sales';setTimeout(function(){addSessionCards();},600);break;case'show_price':currentFlow='sales';botSayWithJoke(bi('ğŸ’ª <strong>SIMPLE PRICING</strong><br><br>â€¢ <strong>$5/month</strong> â€” cancel anytime<br>â€¢ <strong>$50/year</strong> â€” save $10! ğŸ‰<br><br>ğŸ†“ <strong>7-DAY FREE TRIAL</strong> included!<br><br>No credit card charged until trial ends. Laugh free for a week!','ğŸ’ª <strong>PRECIO SIMPLE</strong><br><br>â€¢ <strong>$5/mes</strong> â€” cancela cuando quieras<br>â€¢ <strong>$50/aÃ±o</strong> â€” Â¡ahorra $10! ğŸ‰<br><br>ğŸ†“ <strong>7 DÃAS DE PRUEBA GRATIS</strong><br><br>Sin cargo hasta que termine la prueba.'),'pricing',[{labelEn:'ğŸš€ START FREE TRIAL',labelEs:'ğŸš€ COMENZAR PRUEBA',action:'new',primary:true},{labelEn:'â“ QUESTIONS',labelEs:'â“ PREGUNTAS',action:'questions'}],800);break;case'questions':currentFlow='sales';botSayWithJoke(bi('ğŸ’¬ What would you like to know?','ğŸ’¬ Â¿QuÃ© te gustarÃ­a saber?'),'encouragement',[{labelEn:'ğŸ§  How does it work?',labelEs:'ğŸ§  Â¿CÃ³mo funciona?',action:'q_how'},{labelEn:'ğŸ‘´ Is it for seniors?',labelEs:'ğŸ‘´ Â¿Es para mayores?',action:'q_who'},{labelEn:'ğŸ˜‚ Why laughter?',labelEs:'ğŸ˜‚ Â¿Por quÃ© risa?',action:'q_why'},{labelEn:'ğŸš€ Ready to laugh!',labelEs:'ğŸš€ Â¡Listo para reÃ­r!',action:'new'}],600);break;case'q_how':botSayWithJoke(bi('ğŸ® <strong>HOW IT WORKS</strong><br><br>1ï¸âƒ£ Pick a session (LAUGH 1, 2, 3, or 4)<br>2ï¸âƒ£ Complete challenges while giggling<br>3ï¸âƒ£ Progress through 10 tiers<br>4ï¸âƒ£ Track your journey<br><br>Each session is 5-10 minutes. Laugh daily! ğŸ˜‚','ğŸ® <strong>CÃ“MO FUNCIONA</strong><br><br>1ï¸âƒ£ Elige una sesiÃ³n<br>2ï¸âƒ£ Completa desafÃ­os mientras te rÃ­es<br>3ï¸âƒ£ Progresa por 10 niveles<br>4ï¸âƒ£ Sigue tu progreso<br><br>Cada sesiÃ³n es de 5-10 minutos. Â¡RÃ­e diario! ğŸ˜‚'),'sessions',[{labelEn:'ğŸš€ START FREE TRIAL',labelEs:'ğŸš€ COMENZAR PRUEBA',action:'new',primary:true},{labelEn:'â“ More questions',labelEs:'â“ MÃ¡s preguntas',action:'questions'}],600);break;case'q_who':botSayWithJoke(bi('ğŸ‘¥ <strong>FOR EVERYONE!</strong><br><br>âœ… Seniors â€” stay sharp & happy<br>âœ… Rehab patients â€” rebuild with joy<br>âœ… Students â€” boost focus & mood<br>âœ… Anyone â€” exercise brain + smile<br><br>Big buttons. Clear visuals. Bilingual. Easy & fun! ğŸ¯','ğŸ‘¥ <strong>Â¡PARA TODOS!</strong><br><br>âœ… Adultos mayores â€” mantente activo<br>âœ… RehabilitaciÃ³n â€” reconstruye con alegrÃ­a<br>âœ… Estudiantes â€” mejora enfoque<br>âœ… Cualquiera â€” ejercita cerebro + sonrisa<br><br>Â¡FÃ¡cil y divertido! ğŸ¯'),'encouragement',[{labelEn:'ğŸš€ START FREE TRIAL',labelEs:'ğŸš€ COMENZAR PRUEBA',action:'new',primary:true},{labelEn:'â“ More questions',labelEs:'â“ MÃ¡s preguntas',action:'questions'}],600);break;case'q_why':botSayWithJoke(bi('ğŸ˜‚ <strong>WHY LAUGHTER?</strong><br><br>ğŸ§ª <strong>SCIENCE SAYS:</strong><br>â€¢ Laughter increases dopamine â†’ better memory<br>â€¢ Reduces cortisol â†’ clearer thinking<br>â€¢ Activates multiple brain regions<br>â€¢ Fights isolation & depression<br><br>It\'s rehabilitation disguised as JOY! ğŸ’ªğŸ˜Š','ğŸ˜‚ <strong>Â¿POR QUÃ‰ RISA?</strong><br><br>ğŸ§ª <strong>LA CIENCIA DICE:</strong><br>â€¢ La risa aumenta dopamina â†’ mejor memoria<br>â€¢ Reduce cortisol â†’ pensamiento mÃ¡s claro<br>â€¢ Activa mÃºltiples regiones cerebrales<br><br>Â¡Es rehabilitaciÃ³n disfrazada de ALEGRÃA! ğŸ’ªğŸ˜Š'),'encouragement',[{labelEn:'ğŸš€ START FREE TRIAL',labelEs:'ğŸš€ COMENZAR PRUEBA',action:'new',primary:true},{labelEn:'â“ More questions',labelEs:'â“ MÃ¡s preguntas',action:'questions'}],600);break;case'new':currentFlow='new';botSayWithJoke(bi("Let's get you laughing! ğŸ‰",'Â¡Vamos a hacerte reÃ­r! ğŸ‰'),'success',null,600);setTimeout(addPlanSelector,1200);break;case'returning':currentFlow='subscriber';currentStep='ask_pin';var jk=getRandomJoke('returning');botSay(bi('Welcome back! ğŸ˜‚<br><br>Enter your 4-digit PIN:','Â¡Bienvenido! ğŸ˜‚<br><br>Ingresa tu PIN de 4 dÃ­gitos:')+'<div class="joke">ğŸ˜‚ '+jk+'</div>',null,600);setTimeout(addPinInput,1500);break;case'start_training':goToGameHub();break;case'manage_subscription':handleManageSubscription();break;case'retry_email':addEmailInput();break;case'forgot_pin':addForgotPinInput();break;}}
function handleTextInput(t){t=t.trim();if(!t)return;addMsg(t,true);hideInput();setTimeout(function(){botSayWithJoke(bi('Ha! Good one! ğŸ˜‚ Let me help you get started...','Â¡Ja! Â¡Buena esa! ğŸ˜‚ DÃ©jame ayudarte...'),'greetings',[{labelEn:'ğŸ˜‚ TELL ME MORE',labelEs:'ğŸ˜‚ CUÃ‰NTAME MÃS',action:'learn_more',primary:true},{labelEn:'ğŸ”‘ I Have PIN',labelEs:'ğŸ”‘ Tengo PIN',action:'returning'}]);},600);}
function handlePinSubmit(pin){document.querySelectorAll('.pin-digit').forEach(function(d){d.disabled=true;});var sb=document.getElementById('pinSubmit');if(sb)sb.style.opacity='0.5';addMsg('â€¢â€¢â€¢â€¢',true);fetch('/api/subscriber/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({pin:pin})}).then(function(r){return r.json();}).then(function(d){if(d.success){var ud={email:d.email,pin:pin,plan:d.plan,type:'subscriber'};saveUser(ud);setSession(d.email,pin);createConfetti();var jk=getRandomJoke('returning');var stb=d.status==='trialing'?'<div class="status-badge trialing">ğŸ†“ '+bi('FREE TRIAL','PRUEBA GRATIS')+'</div>':'<div class="status-badge active">âœ… '+bi('ACTIVE','ACTIVO')+'</div>';botSay(bi('ğŸ˜‚ <strong>Welcome back, Laugh Champion!</strong>','ğŸ˜‚ <strong>Â¡Bienvenido, CampeÃ³n de Risa!</strong>')+'<br><br>'+stb+'<div class="joke">ğŸ˜‚ '+jk+'</div><br>'+bi('Ready to laugh?','Â¿Listo para reÃ­r?'),[{labelEn:"ğŸ˜‚ LET'S GO!",labelEs:"ğŸ˜‚ Â¡VAMOS!",action:'start_training',primary:true},{labelEn:'âš™ï¸ Manage',labelEs:'âš™ï¸ Gestionar',action:'manage_subscription',secondary:true}],800);}else{botSayWithJoke(bi('âŒ Invalid PIN. Try again:','âŒ PIN invÃ¡lido. Intenta:'),'encouragement',null,600);setTimeout(addPinInput,1400);}}).catch(function(){botSay(bi('âŒ Connection error.','âŒ Error de conexiÃ³n.'),null,600);setTimeout(addPinInput,1400);});}
function handleManageSubscription(){var u=getUser();if(!u||!u.email){botSay(bi('Please login first.','Por favor inicia sesiÃ³n primero.'),null,400);return;}addTyping();fetch('/api/stripe/portal',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:u.email})}).then(function(r){return r.json();}).then(function(d){removeTyping();if(d.url)window.location.href=d.url;else addMsg(bi('âŒ Could not open portal.','âŒ No se pudo abrir el portal.'),false);}).catch(function(){removeTyping();addMsg(bi('âŒ Connection error.','âŒ Error de conexiÃ³n.'),false);});}
goBtn.addEventListener('click',openChat);document.getElementById('chatFab').addEventListener('click',openChat);document.getElementById('chatCta').addEventListener('click',openChat);document.getElementById('chatCtaEs').addEventListener('click',openChat);document.getElementById('heroIcon').addEventListener('click',openChat);chatClose.addEventListener('click',function(){chatScreen.classList.remove('active');landing.classList.remove('hidden');document.getElementById('chatFab').classList.remove('hidden');});chatSend.addEventListener('click',function(){handleTextInput(chatInput.value);chatInput.value='';});chatInput.addEventListener('keydown',function(e){if(e.key==='Enter'){handleTextInput(chatInput.value);chatInput.value='';}});if(!checkUrlParams()){}
})();
</script>
</body>
</html>
