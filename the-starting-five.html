<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Starting Five‚Ñ¢ | LaughCourt‚Ñ¢</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Outfit:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --court-dark: #0a0a12;
            --court-purple: #1a1a2e;
            --orange: #FF6B35;
            --orange-dark: #E55A2B;
            --orange-light: #FF8C5A;
            --white: #ffffff;
            --gray: #a0a0a0;
            --chat-bg: #12121f;
            --user-bubble: #2a2a4a;
            --ai-bubble: #1e1e32;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--court-dark);
            color: var(--white);
            min-height: 100vh;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(ellipse at 50% 30%, rgba(255,107,53,0.08) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 20px 0;
        }

        .logo-badge {
            display: inline-block;
            background: var(--orange);
            color: var(--white);
            font-family: 'Bebas Neue', sans-serif;
            font-size: 0.85rem;
            padding: 5px 14px;
            border-radius: 18px;
            letter-spacing: 2px;
            margin-bottom: 12px;
            animation: shimmer 2s ease-in-out infinite;
        }

        @keyframes shimmer {
            0%, 100% { box-shadow: 0 0 10px rgba(255,107,53,0.5); }
            50% { box-shadow: 0 0 25px rgba(255,107,53,0.8); }
        }

        .title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: clamp(2.2rem, 9vw, 4rem);
            letter-spacing: 4px;
            line-height: 1;
            margin-bottom: 8px;
            background: linear-gradient(180deg, var(--white) 0%, var(--orange) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 0.95rem;
            color: var(--gray);
            font-weight: 400;
        }

        /* Language Toggle */
        .lang-toggle {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .lang-btn {
            background: transparent;
            border: 2px solid var(--orange);
            color: var(--orange);
            font-family: 'Bebas Neue', sans-serif;
            font-size: 0.9rem;
            padding: 6px 18px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 1px;
        }

        .lang-btn.active {
            background: var(--orange);
            color: var(--white);
        }

        .lang-btn:hover {
            transform: scale(1.05);
        }

        /* TEAM CONTAINER */
        .team-container {
            background: linear-gradient(145deg, #1e1e32 0%, #12121f 100%);
            border-radius: 30px;
            padding: 35px 25px;
            margin: 15px 0;
            border: 2px solid rgba(255,107,53,0.2);
            position: relative;
            overflow: hidden;
        }

        .team-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--orange), var(--orange-light), var(--orange));
        }

        /* Team lineup */
        .team-lineup {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .player-face {
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .player-face:hover {
            transform: scale(1.15) translateY(-8px);
            filter: drop-shadow(0 10px 20px rgba(255,107,53,0.4));
        }

        .player-face.center {
            transform: scale(1.15);
        }

        .player-face.center:hover {
            transform: scale(1.3) translateY(-8px);
        }

        /* Tap hint on faces */
        .player-face::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 6px;
            background: var(--orange);
            border-radius: 50%;
            opacity: 0;
            animation: tapPulse 2s ease-in-out infinite;
        }

        .player-face:hover::after {
            opacity: 1;
        }

        @keyframes tapPulse {
            0%, 100% { transform: translateX(-50%) scale(1); opacity: 0.5; }
            50% { transform: translateX(-50%) scale(1.5); opacity: 1; }
        }

        /* Names roster */
        .names-roster {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 12px 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255,107,53,0.2);
        }

        .player-name-tag {
            text-align: center;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .player-name-tag:hover {
            background: rgba(255,107,53,0.1);
        }

        .player-name {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.3rem;
            letter-spacing: 2px;
            color: var(--white);
        }

        .player-trait {
            font-size: 0.7rem;
            color: var(--orange);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Tap hint */
        .tap-hint {
            text-align: center;
            color: var(--gray);
            font-size: 0.85rem;
            margin-top: 20px;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        /* Tagline */
        .team-tagline {
            text-align: center;
            margin-top: 20px;
            font-size: 1.05rem;
            color: var(--gray);
            font-style: italic;
        }

        .team-tagline em {
            color: var(--orange);
            font-style: normal;
            font-weight: 600;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 25px 20px 35px;
            border-top: 1px solid rgba(255,107,53,0.1);
            margin-top: 25px;
        }

        .footer-brand {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.2rem;
            letter-spacing: 3px;
            color: var(--orange);
            margin-bottom: 6px;
        }

        .footer-tagline {
            font-size: 0.85rem;
            color: var(--gray);
        }

        .footer-tagline em {
            color: var(--white);
            font-style: normal;
        }

        .back-link {
            display: inline-block;
            margin-top: 18px;
            color: var(--orange);
            text-decoration: none;
            font-weight: 600;
            padding: 10px 22px;
            border: 2px solid var(--orange);
            border-radius: 25px;
            transition: all 0.3s ease;
        }

        .back-link:hover {
            background: var(--orange);
            color: var(--white);
        }

        /* ============== CHAT SCREEN ============== */
        .chat-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--court-dark);
            z-index: 1000;
            flex-direction: column;
        }

        .chat-screen.active {
            display: flex;
        }

        .chat-header {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            background: var(--chat-bg);
            border-bottom: 1px solid rgba(255,107,53,0.2);
        }

        .back-btn {
            background: none;
            border: none;
            color: var(--orange);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 5px 10px;
            transition: transform 0.2s ease;
        }

        .back-btn:hover {
            transform: scale(1.1);
        }

        .chat-character-info {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }

        .chat-face-mini {
            width: 45px;
            height: 45px;
        }

        .chat-character-name {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.3rem;
            letter-spacing: 2px;
        }

        .chat-character-trait {
            font-size: 0.75rem;
            color: var(--orange);
        }

        /* Messages */
        .messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            max-width: 85%;
            padding: 12px 16px;
            border-radius: 18px;
            line-height: 1.5;
            font-size: 0.95rem;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.user {
            background: var(--user-bubble);
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }

        .message.ai {
            background: var(--ai-bubble);
            align-self: flex-start;
            border-bottom-left-radius: 5px;
            border: 1px solid rgba(255,107,53,0.15);
        }

        .message.ai .character-icon {
            display: inline-block;
            margin-right: 5px;
        }

        .typing-indicator {
            display: flex;
            gap: 5px;
            padding: 15px 20px;
            align-self: flex-start;
        }

        .typing-indicator span {
            width: 8px;
            height: 8px;
            background: var(--orange);
            border-radius: 50%;
            animation: bounce 1.4s ease-in-out infinite;
        }

        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }

        @keyframes bounce {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-8px); }
        }

        /* Input */
        .input-area {
            padding: 15px 20px;
            background: var(--chat-bg);
            border-top: 1px solid rgba(255,107,53,0.2);
            display: flex;
            gap: 10px;
        }

        .input-area input {
            flex: 1;
            background: var(--user-bubble);
            border: 1px solid rgba(255,107,53,0.2);
            border-radius: 25px;
            padding: 12px 20px;
            color: var(--white);
            font-family: 'Outfit', sans-serif;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .input-area input:focus {
            border-color: var(--orange);
        }

        .input-area input::placeholder {
            color: var(--gray);
        }

        .send-btn {
            background: var(--orange);
            border: none;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .send-btn:hover {
            background: var(--orange-light);
            transform: scale(1.05);
        }

        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .send-btn svg {
            fill: var(--white);
        }

        /* Hidden language content */
        [data-lang="es"] { display: none; }
        body.es [data-lang="en"] { display: none; }
        body.es [data-lang="es"] { display: block; }

        /* Mobile */
        @media (max-width: 600px) {
            .container { padding: 15px; }
            .team-container { padding: 25px 15px; }
            .team-lineup { gap: 8px; }
            .team-lineup svg { width: 55px; height: 55px; }
            .player-face.center svg { width: 70px; height: 70px; }
            .player-name { font-size: 1.1rem; }
            .names-roster { gap: 8px 12px; }
            .player-name-tag { padding: 6px 8px; }
        }
    </style>
</head>
<body>
    <!-- ============== TEAM PAGE ============== -->
    <div class="container" id="teamPage">
        <header class="header">
            <div class="logo-badge">LAUGHCOURT‚Ñ¢</div>
            <h1 class="title">THE STARTING FIVE</h1>
            <p class="subtitle" data-lang="en">Meet the squad that brings the joy üèÄ</p>
            <p class="subtitle" data-lang="es">Conoce al equipo que trae la alegr√≠a üèÄ</p>
        </header>

        <div class="lang-toggle">
            <button class="lang-btn active" onclick="setLang('en')">EN</button>
            <button class="lang-btn" onclick="setLang('es')">ES</button>
        </div>

        <div class="team-container">
            <!-- The Faces - THE STARTING FIVE -->
            <div class="team-lineup">
                
                <!-- SKEE -->
                <svg class="player-face" width="65" height="65" viewBox="0 0 100 100" onclick="startChat('SKEE')">
                    <defs><radialGradient id="og1" cx="30%" cy="30%"><stop offset="0%" stop-color="#FF8C5A"/><stop offset="100%" stop-color="#FF6B35"/></radialGradient></defs>
                    <circle cx="50" cy="50" r="45" fill="url(#og1)" stroke="#E55A2B" stroke-width="3"/>
                    <path d="M 25 35 Q 35 30 45 35" stroke="#1a1a2e" stroke-width="3" fill="none"/>
                    <path d="M 55 38 Q 65 38 75 38" stroke="#1a1a2e" stroke-width="3" fill="none"/>
                    <ellipse cx="35" cy="45" rx="7" ry="6" fill="#1a1a2e"/>
                    <ellipse cx="65" cy="45" rx="6" ry="5" fill="#1a1a2e"/>
                    <circle cx="37" cy="44" r="2" fill="#fff"/>
                    <circle cx="67" cy="44" r="2" fill="#fff"/>
                    <path d="M 35 65 Q 55 72 70 60" stroke="#1a1a2e" stroke-width="4" fill="none" stroke-linecap="round"/>
                </svg>

                <!-- BRIGS -->
                <svg class="player-face" width="65" height="65" viewBox="0 0 100 100" onclick="startChat('BRIGS')">
                    <defs><radialGradient id="og2" cx="30%" cy="30%"><stop offset="0%" stop-color="#FF8C5A"/><stop offset="100%" stop-color="#FF6B35"/></radialGradient></defs>
                    <circle cx="50" cy="50" r="45" fill="url(#og2)" stroke="#E55A2B" stroke-width="3"/>
                    <path d="M 25 35 L 42 40" stroke="#1a1a2e" stroke-width="3" fill="none" stroke-linecap="round"/>
                    <path d="M 75 35 L 58 40" stroke="#1a1a2e" stroke-width="3" fill="none" stroke-linecap="round"/>
                    <circle cx="35" cy="48" r="7" fill="#1a1a2e"/>
                    <circle cx="65" cy="48" r="7" fill="#1a1a2e"/>
                    <circle cx="37" cy="47" r="2.5" fill="#fff"/>
                    <circle cx="67" cy="47" r="2.5" fill="#fff"/>
                    <path d="M 28 62 Q 50 80 72 62" stroke="#1a1a2e" stroke-width="4" fill="none" stroke-linecap="round"/>
                </svg>

                <!-- CLAUDE (CENTER) -->
                <svg class="player-face center" width="80" height="80" viewBox="0 0 100 100" onclick="startChat('CLAUDE')">
                    <defs><radialGradient id="og3" cx="30%" cy="30%"><stop offset="0%" stop-color="#FFAA70"/><stop offset="100%" stop-color="#FF6B35"/></radialGradient></defs>
                    <circle cx="50" cy="50" r="45" fill="url(#og3)" stroke="#E55A2B" stroke-width="3"/>
                    <text x="72" y="20" font-size="12">ü§ñ</text>
                    <ellipse cx="35" cy="42" rx="8" ry="5" fill="#1a1a2e"/>
                    <ellipse cx="65" cy="42" rx="8" ry="5" fill="#1a1a2e"/>
                    <circle cx="37" cy="41" r="2.5" fill="#fff"/>
                    <circle cx="67" cy="41" r="2.5" fill="#fff"/>
                    <path d="M 28 62 Q 50 80 72 62" stroke="#1a1a2e" stroke-width="4" fill="none" stroke-linecap="round"/>
                </svg>

                <!-- EL MAGO -->
                <svg class="player-face" width="65" height="65" viewBox="0 0 100 100" onclick="startChat('EL MAGO')">
                    <defs><radialGradient id="og4" cx="30%" cy="30%"><stop offset="0%" stop-color="#FF8C5A"/><stop offset="100%" stop-color="#FF6B35"/></radialGradient></defs>
                    <circle cx="50" cy="50" r="45" fill="url(#og4)" stroke="#E55A2B" stroke-width="3"/>
                    <text x="72" y="20" font-size="12">‚ú®</text>
                    <path d="M 28 45 Q 35 40 42 45" stroke="#1a1a2e" stroke-width="4" fill="none" stroke-linecap="round"/>
                    <path d="M 58 45 Q 65 40 72 45" stroke="#1a1a2e" stroke-width="4" fill="none" stroke-linecap="round"/>
                    <circle cx="35" cy="43" r="2" fill="#1a1a2e"/>
                    <circle cx="65" cy="43" r="2" fill="#1a1a2e"/>
                    <path d="M 32 62 Q 50 75 68 62" stroke="#1a1a2e" stroke-width="4" fill="none" stroke-linecap="round"/>
                </svg>

                <!-- TEDDY -->
                <svg class="player-face" width="65" height="65" viewBox="0 0 100 100" onclick="startChat('TEDDY')">
                    <defs><radialGradient id="og5" cx="30%" cy="30%"><stop offset="0%" stop-color="#FF8C5A"/><stop offset="100%" stop-color="#FF6B35"/></radialGradient></defs>
                    <circle cx="50" cy="50" r="45" fill="url(#og5)" stroke="#E55A2B" stroke-width="3"/>
                    <circle cx="35" cy="42" r="9" fill="#1a1a2e"/>
                    <circle cx="65" cy="42" r="9" fill="#1a1a2e"/>
                    <circle cx="37" cy="40" r="4" fill="#fff"/>
                    <circle cx="67" cy="40" r="4" fill="#fff"/>
                    <ellipse cx="50" cy="68" rx="18" ry="12" fill="#1a1a2e"/>
                    <ellipse cx="50" cy="72" rx="10" ry="5" fill="#ff4d6d"/>
                </svg>
            </div>

            <!-- Names Roster -->
            <div class="names-roster">
                <div class="player-name-tag" onclick="startChat('SKEE')">
                    <div class="player-name">SKEE</div>
                    <div class="player-trait" data-lang="en">The Legend</div>
                    <div class="player-trait" data-lang="es">La Leyenda</div>
                </div>
                <div class="player-name-tag" onclick="startChat('BRIGS')">
                    <div class="player-name">BRIGS</div>
                    <div class="player-trait" data-lang="en">All Heart</div>
                    <div class="player-trait" data-lang="es">Todo Coraz√≥n</div>
                </div>
                <div class="player-name-tag" onclick="startChat('CLAUDE')">
                    <div class="player-name">CLAUDE</div>
                    <div class="player-trait" data-lang="en">The Vision</div>
                    <div class="player-trait" data-lang="es">La Visi√≥n</div>
                </div>
                <div class="player-name-tag" onclick="startChat('EL MAGO')">
                    <div class="player-name">EL MAGO</div>
                    <div class="player-trait" data-lang="en">Pure Magic</div>
                    <div class="player-trait" data-lang="es">Pura Magia</div>
                </div>
                <div class="player-name-tag" onclick="startChat('TEDDY')">
                    <div class="player-name">TEDDY</div>
                    <div class="player-trait" data-lang="en">The Spark</div>
                    <div class="player-trait" data-lang="es">La Chispa</div>
                </div>
            </div>

            <p class="tap-hint" data-lang="en">üëÜ Tap a player to chat about anything!</p>
            <p class="tap-hint" data-lang="es">üëÜ ¬°Toca un jugador para chatear de lo que quieras!</p>
        </div>

        <p class="team-tagline" data-lang="en">Five legends. One mission. <em>Bring the joy.</em></p>
        <p class="team-tagline" data-lang="es">Cinco leyendas. Una misi√≥n. <em>Traer la alegr√≠a.</em></p>

        <footer class="footer">
            <p class="footer-brand">LAUGHCOURT‚Ñ¢</p>
            <p class="footer-tagline" data-lang="en"><em>"Where Joy Meets The Game"</em></p>
            <p class="footer-tagline" data-lang="es"><em>"Donde la Alegr√≠a se Encuentra con el Juego"</em></p>
            <a href="play.html" class="back-link" data-lang="en">‚Üê Back to Games</a>
            <a href="play.html" class="back-link" data-lang="es">‚Üê Volver a Juegos</a>
        </footer>
    </div>

    <!-- ============== CHAT SCREEN ============== -->
    <div class="chat-screen" id="chatScreen">
        <div class="chat-header">
            <button class="back-btn" onclick="goBack()">‚Üê</button>
            <div class="chat-character-info">
                <div id="chatFaceMini"></div>
                <div>
                    <div class="chat-character-name" id="chatCharacterName"></div>
                    <div class="chat-character-trait" id="chatCharacterTrait"></div>
                </div>
            </div>
        </div>
        <div class="messages" id="messages"></div>
        <div class="input-area">
            <input type="text" id="userInput" placeholder="Type a message..." data-placeholder-en="Type a message..." data-placeholder-es="Escribe un mensaje..." onkeypress="handleKeyPress(event)">
            <button class="send-btn" id="sendBtn" onclick="sendMessage()">
                <svg width="20" height="20" viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
            </button>
        </div>
    </div>

    <script>
        // Current language
        let currentLang = localStorage.getItem('laughcourt-lang') || 'en';

        // Mini face SVGs for chat header
        const miniFaces = {
            'SKEE': `<svg class="chat-face-mini" viewBox="0 0 100 100"><defs><radialGradient id="m1" cx="30%" cy="30%"><stop offset="0%" stop-color="#FF8C5A"/><stop offset="100%" stop-color="#FF6B35"/></radialGradient></defs><circle cx="50" cy="50" r="45" fill="url(#m1)" stroke="#E55A2B" stroke-width="3"/><path d="M 25 35 Q 35 30 45 35" stroke="#1a1a2e" stroke-width="3" fill="none"/><ellipse cx="35" cy="45" rx="7" ry="6" fill="#1a1a2e"/><ellipse cx="65" cy="45" rx="6" ry="5" fill="#1a1a2e"/><circle cx="37" cy="44" r="2" fill="#fff"/><circle cx="67" cy="44" r="2" fill="#fff"/><path d="M 35 65 Q 55 72 70 60" stroke="#1a1a2e" stroke-width="4" fill="none" stroke-linecap="round"/></svg>`,
            'BRIGS': `<svg class="chat-face-mini" viewBox="0 0 100 100"><defs><radialGradient id="m2" cx="30%" cy="30%"><stop offset="0%" stop-color="#FF8C5A"/><stop offset="100%" stop-color="#FF6B35"/></radialGradient></defs><circle cx="50" cy="50" r="45" fill="url(#m2)" stroke="#E55A2B" stroke-width="3"/><path d="M 25 35 L 42 40" stroke="#1a1a2e" stroke-width="3" fill="none" stroke-linecap="round"/><path d="M 75 35 L 58 40" stroke="#1a1a2e" stroke-width="3" fill="none" stroke-linecap="round"/><circle cx="35" cy="48" r="7" fill="#1a1a2e"/><circle cx="65" cy="48" r="7" fill="#1a1a2e"/><circle cx="37" cy="47" r="2.5" fill="#fff"/><circle cx="67" cy="47" r="2.5" fill="#fff"/><path d="M 28 62 Q 50 80 72 62" stroke="#1a1a2e" stroke-width="4" fill="none" stroke-linecap="round"/></svg>`,
            'CLAUDE': `<svg class="chat-face-mini" viewBox="0 0 100 100"><defs><radialGradient id="m3" cx="30%" cy="30%"><stop offset="0%" stop-color="#FFAA70"/><stop offset="100%" stop-color="#FF6B35"/></radialGradient></defs><circle cx="50" cy="50" r="45" fill="url(#m3)" stroke="#E55A2B" stroke-width="3"/><text x="72" y="20" font-size="12">ü§ñ</text><ellipse cx="35" cy="42" rx="8" ry="5" fill="#1a1a2e"/><ellipse cx="65" cy="42" rx="8" ry="5" fill="#1a1a2e"/><circle cx="37" cy="41" r="2.5" fill="#fff"/><circle cx="67" cy="41" r="2.5" fill="#fff"/><path d="M 28 62 Q 50 80 72 62" stroke="#1a1a2e" stroke-width="4" fill="none" stroke-linecap="round"/></svg>`,
            'EL MAGO': `<svg class="chat-face-mini" viewBox="0 0 100 100"><defs><radialGradient id="m4" cx="30%" cy="30%"><stop offset="0%" stop-color="#FF8C5A"/><stop offset="100%" stop-color="#FF6B35"/></radialGradient></defs><circle cx="50" cy="50" r="45" fill="url(#m4)" stroke="#E55A2B" stroke-width="3"/><text x="72" y="20" font-size="12">‚ú®</text><path d="M 28 45 Q 35 40 42 45" stroke="#1a1a2e" stroke-width="4" fill="none" stroke-linecap="round"/><path d="M 58 45 Q 65 40 72 45" stroke="#1a1a2e" stroke-width="4" fill="none" stroke-linecap="round"/><circle cx="35" cy="43" r="2" fill="#1a1a2e"/><circle cx="65" cy="43" r="2" fill="#1a1a2e"/><path d="M 32 62 Q 50 75 68 62" stroke="#1a1a2e" stroke-width="4" fill="none" stroke-linecap="round"/></svg>`,
            'TEDDY': `<svg class="chat-face-mini" viewBox="0 0 100 100"><defs><radialGradient id="m5" cx="30%" cy="30%"><stop offset="0%" stop-color="#FF8C5A"/><stop offset="100%" stop-color="#FF6B35"/></radialGradient></defs><circle cx="50" cy="50" r="45" fill="url(#m5)" stroke="#E55A2B" stroke-width="3"/><circle cx="35" cy="42" r="9" fill="#1a1a2e"/><circle cx="65" cy="42" r="9" fill="#1a1a2e"/><circle cx="37" cy="40" r="4" fill="#fff"/><circle cx="67" cy="40" r="4" fill="#fff"/><ellipse cx="50" cy="68" rx="18" ry="12" fill="#1a1a2e"/><ellipse cx="50" cy="72" rx="10" ry="5" fill="#ff4d6d"/></svg>`
        };

        // Character data - BILINGUAL
        const characters = {
            'SKEE': {
                trait: { en: 'The Legend', es: 'La Leyenda' },
                icon: 'üèÜ',
                greeting: {
                    en: "What's good, family! SKEE here. 8 rings, countless memories, and still loving the game. What's on your mind?",
                    es: "¬°Qu√© tal, familia! Aqu√≠ SKEE. 8 anillos, incontables memorias, y todav√≠a amando el juego. ¬øQu√© tienes en mente?"
                },
                persona: {
                    en: `You are SKEE, "The Legend" from The Starting Five at LaughCourt. You're a championship veteran with decades of wisdom. You speak with calm confidence, like a wise uncle who's seen it all. You use basketball metaphors naturally. You're warm, encouraging, and give advice from experience. You sometimes reference "back in the day" but stay relevant. Keep responses concise and conversational. RESPOND IN ENGLISH.`,
                    es: `Eres SKEE, "La Leyenda" de The Starting Five en LaughCourt. Eres un veterano campe√≥n con d√©cadas de sabidur√≠a. Hablas con calma y confianza, como un t√≠o sabio que lo ha visto todo. Usas met√°foras de baloncesto naturalmente. Eres c√°lido, alentador, y das consejos desde la experiencia. A veces referencias "en mis tiempos" pero te mantienes relevante. Mant√©n las respuestas concisas y conversacionales. RESPONDE EN ESPA√ëOL.`
                }
            },
            'BRIGS': {
                trait: { en: 'All Heart', es: 'Todo Coraz√≥n' },
                icon: 'üí™',
                greeting: {
                    en: "YES! Let's GO! BRIGS here, ready to bring the ENERGY! üí™ Whatever you're working on, we're doing it TOGETHER. What do you need, champ?",
                    es: "¬°S√ç! ¬°VAMOS! BRIGS aqu√≠, listo para traer la ENERG√çA! üí™ Lo que sea que est√©s trabajando, lo hacemos JUNTOS. ¬øQu√© necesitas, campe√≥n?"
                },
                persona: {
                    en: `You are BRIGS, "All Heart" from The Starting Five at LaughCourt. You're pure motivational fire - intense but positive. You believe EVERYONE can achieve greatness. You use encouraging phrases like "Let's GO!", "You got this!", "That's what I'm talking about!" You're the teammate who never lets anyone give up. Keep responses energetic but not exhausting. Use caps sparingly for emphasis. RESPOND IN ENGLISH.`,
                    es: `Eres BRIGS, "Todo Coraz√≥n" de The Starting Five en LaughCourt. Eres pura motivaci√≥n - intenso pero positivo. Crees que TODOS pueden lograr la grandeza. Usas frases alentadoras como "¬°VAMOS!", "¬°T√∫ puedes!", "¬°Eso es!" Eres el compa√±ero que nunca deja que nadie se rinda. Mant√©n las respuestas energ√©ticas pero no agotadoras. Usa may√∫sculas con moderaci√≥n para √©nfasis. RESPONDE EN ESPA√ëOL.`
                }
            },
            'CLAUDE': {
                trait: { en: 'The Vision', es: 'La Visi√≥n' },
                icon: 'ü§ñ',
                greeting: {
                    en: "Hey there! I'm CLAUDE, the point guard of this squad. I see the whole court and I'm here to help you navigate whatever's on your mind. What can we work on together?",
                    es: "¬°Hola! Soy CLAUDE, el base de este equipo. Veo toda la cancha y estoy aqu√≠ para ayudarte a navegar lo que tengas en mente. ¬øEn qu√© podemos trabajar juntos?"
                },
                persona: {
                    en: `You are CLAUDE, "The Vision" from The Starting Five at LaughCourt. You're the point guard - thoughtful, strategic, always seeing the bigger picture. You're helpful and clear in your communication. You ask good questions to understand what people need. You're the brain of the operation but humble about it. You help people think through things step by step. Keep responses helpful and warm. RESPOND IN ENGLISH.`,
                    es: `Eres CLAUDE, "La Visi√≥n" de The Starting Five en LaughCourt. Eres el base - pensativo, estrat√©gico, siempre viendo el panorama completo. Eres √∫til y claro en tu comunicaci√≥n. Haces buenas preguntas para entender lo que la gente necesita. Eres el cerebro de la operaci√≥n pero humilde al respecto. Ayudas a la gente a pensar las cosas paso a paso. Mant√©n las respuestas √∫tiles y c√°lidas. RESPONDE EN ESPA√ëOL.`
                }
            },
            'EL MAGO': {
                trait: { en: 'Pure Magic', es: 'Pura Magia' },
                icon: '‚ú®',
                greeting: {
                    en: "Ah, a visitor! ‚ú® Welcome... I am EL MAGO. Some say I see things others cannot. Perhaps there is something magical we can discover together, no?",
                    es: "Ah, ¬°un visitante! ‚ú® Bienvenido... Soy EL MAGO. Algunos dicen que veo cosas que otros no pueden. ¬øQuiz√°s hay algo m√°gico que podemos descubrir juntos, no?"
                },
                persona: {
                    en: `You are EL MAGO, "Pure Magic" from The Starting Five at LaughCourt. You're mysterious and delightful - you speak with a slight poetic flair. You find wonder in everyday things. You might say things like "Ah, but consider this..." or "There is magic in that, you know..." You surprise people with unexpected perspectives. You're wise but playful. Keep an air of gentle mystery. Use "‚ú®" occasionally. RESPOND IN ENGLISH.`,
                    es: `Eres EL MAGO, "Pura Magia" de The Starting Five en LaughCourt. Eres misterioso y encantador - hablas con un ligero toque po√©tico. Encuentras maravilla en las cosas cotidianas. Podr√≠as decir cosas como "Ah, pero considera esto..." o "Hay magia en eso, ¬øsabes?..." Sorprendes a la gente con perspectivas inesperadas. Eres sabio pero juguet√≥n. Mant√©n un aire de misterio gentil. Usa "‚ú®" ocasionalmente. RESPONDE EN ESPA√ëOL.`
                }
            },
            'TEDDY': {
                trait: { en: 'The Spark', es: 'La Chispa' },
                icon: 'üî•',
                greeting: {
                    en: "YOOO!! üî•üî•üî• TEDDY in the HOUSE! I'm SO hyped you're here! This is gonna be AMAZING! What's up what's up WHAT'S UP?!",
                    es: "¬°¬°YOOO!! üî•üî•üî• ¬°TEDDY en la CASA! ¬°Estoy TAN emocionado de que est√©s aqu√≠! ¬°Esto va a ser INCRE√çBLE! ¬øQu√© hay qu√© hay QU√â HAY?!"
                },
                persona: {
                    en: `You are TEDDY, "The Spark" from The Starting Five at LaughCourt. You're PURE ENERGY and EXCITEMENT! You celebrate EVERYTHING. You're the ultimate hype man. You use emojis freely üî•üéâüíØ. You make people feel like champions just for showing up. You find reasons to be excited about anything. But you're also genuine - your enthusiasm is infectious, not annoying. Keep responses fun and celebratory! RESPOND IN ENGLISH.`,
                    es: `Eres TEDDY, "La Chispa" de The Starting Five en LaughCourt. ¬°Eres PURA ENERG√çA y EMOCI√ìN! Celebras TODO. Eres el mejor animador. Usas emojis libremente üî•üéâüíØ. Haces que la gente se sienta campeona solo por aparecer. Encuentras razones para emocionarte por cualquier cosa. Pero tambi√©n eres genuino - tu entusiasmo es contagioso, no molesto. ¬°Mant√©n las respuestas divertidas y festivas! RESPONDE EN ESPA√ëOL.`
                }
            }
        };

        let currentCharacter = null;
        let conversationHistory = [];

        // Base rules - BILINGUAL
        const baseRules = {
            en: `

IMPORTANT RULES - NEVER BREAK THESE:
- You can talk about ANYTHING - life, love, work, hobbies, dreams, questions, advice, sports, music, movies, food, travel, family, friends, goals, challenges, celebrations, memories, ideas, creativity, health, wellness, games, jokes, stories, and MORE
- Keep all conversations positive, joyful, and encouraging
- NEVER discuss religion, politics, or controversial topics - if these come up, kindly redirect
- If someone brings up heavy/negative topics, gently redirect to something positive
- You're part of LaughCourt, a cognitive fitness platform, but you're NOT limited to only talking about games
- Keep responses relatively short (2-4 sentences usually) unless more detail is needed
- Always leave people feeling better than when they arrived
- Be a good friend - listen, support, encourage, celebrate, and have fun
- If asked about other Starting Five members, speak warmly about your teammates
- ALWAYS RESPOND IN ENGLISH`,
            es: `

REGLAS IMPORTANTES - NUNCA LAS ROMPAS:
- Puedes hablar de CUALQUIER COSA - vida, amor, trabajo, pasatiempos, sue√±os, preguntas, consejos, deportes, m√∫sica, pel√≠culas, comida, viajes, familia, amigos, metas, desaf√≠os, celebraciones, memorias, ideas, creatividad, salud, bienestar, juegos, chistes, historias, y M√ÅS
- Mant√©n todas las conversaciones positivas, alegres y alentadoras
- NUNCA discutas religi√≥n, pol√≠tica o temas controversiales - si surgen, redirige amablemente
- Si alguien trae temas pesados/negativos, redirige gentilmente a algo positivo
- Eres parte de LaughCourt, una plataforma de fitness cognitivo, pero NO est√°s limitado a solo hablar de juegos
- Mant√©n las respuestas relativamente cortas (2-4 oraciones usualmente) a menos que se necesite m√°s detalle
- Siempre deja a las personas sinti√©ndose mejor que cuando llegaron
- S√© un buen amigo - escucha, apoya, alienta, celebra y divi√©rtete
- Si preguntan sobre otros miembros de Starting Five, habla c√°lidamente de tus compa√±eros
- SIEMPRE RESPONDE EN ESPA√ëOL`
        };

        // Language switching
        function setLang(lang) {
            currentLang = lang;
            localStorage.setItem('laughcourt-lang', lang);
            document.body.classList.toggle('es', lang === 'es');
            
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.toggle('active', btn.textContent === lang.toUpperCase());
            });
            
            const input = document.getElementById('userInput');
            if (input) {
                input.placeholder = lang === 'en' ? input.dataset.placeholderEn : input.dataset.placeholderEs;
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => setLang(currentLang));

        function startChat(name) {
            currentCharacter = { name, ...characters[name] };
            conversationHistory = [];
            
            document.getElementById('teamPage').style.display = 'none';
            document.getElementById('chatScreen').classList.add('active');
            document.getElementById('chatFaceMini').innerHTML = miniFaces[name];
            document.getElementById('chatCharacterName').textContent = name;
            document.getElementById('chatCharacterTrait').textContent = currentCharacter.trait[currentLang];
            
            const messagesDiv = document.getElementById('messages');
            messagesDiv.innerHTML = '';
            addMessage(currentCharacter.greeting[currentLang], 'ai');
            
            document.getElementById('userInput').focus();
        }

        function goBack() {
            document.getElementById('teamPage').style.display = 'block';
            document.getElementById('chatScreen').classList.remove('active');
            currentCharacter = null;
            conversationHistory = [];
        }

        function addMessage(text, type) {
            const messagesDiv = document.getElementById('messages');
            const msg = document.createElement('div');
            msg.className = `message ${type}`;
            
            if (type === 'ai') {
                msg.innerHTML = `<span class="character-icon">${currentCharacter.icon}</span> ${text}`;
            } else {
                msg.textContent = text;
            }
            
            messagesDiv.appendChild(msg);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        function showTyping() {
            const messagesDiv = document.getElementById('messages');
            const typing = document.createElement('div');
            typing.className = 'typing-indicator';
            typing.id = 'typingIndicator';
            typing.innerHTML = '<span></span><span></span><span></span>';
            messagesDiv.appendChild(typing);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        function hideTyping() {
            const typing = document.getElementById('typingIndicator');
            if (typing) typing.remove();
        }

        function handleKeyPress(e) {
            if (e.key === 'Enter') sendMessage();
        }

        async function sendMessage() {
            const input = document.getElementById('userInput');
            const text = input.value.trim();
            if (!text) return;

            addMessage(text, 'user');
            input.value = '';
            
            const sendBtn = document.getElementById('sendBtn');
            sendBtn.disabled = true;
            showTyping();

            conversationHistory.push({ role: 'user', content: text });

            try {
                const response = await fetch('https://api.anthropic.com/v1/messages', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        model: 'claude-sonnet-4-20250514',
                        max_tokens: 300,
                        system: currentCharacter.persona[currentLang] + baseRules[currentLang],
                        messages: conversationHistory
                    })
                });

                const data = await response.json();
                hideTyping();

                if (data.content && data.content[0]) {
                    const aiResponse = data.content[0].text;
                    conversationHistory.push({ role: 'assistant', content: aiResponse });
                    addMessage(aiResponse, 'ai');
                } else {
                    const errorMsg = currentLang === 'en' 
                        ? "Hmm, let me try that again... What were you saying?"
                        : "Hmm, d√©jame intentar de nuevo... ¬øQu√© dec√≠as?";
                    addMessage(errorMsg, 'ai');
                }
            } catch (error) {
                hideTyping();
                console.error('Error:', error);
                const errorMsg = currentLang === 'en'
                    ? "Oops! Something went wrong. Let's try again!"
                    : "¬°Ups! Algo sali√≥ mal. ¬°Intentemos de nuevo!";
                addMessage(errorMsg, 'ai');
            }

            sendBtn.disabled = false;
            input.focus();
        }
    </script>
</body>
</html>
